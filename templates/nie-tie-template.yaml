# Spanish NIE/TIE Document Template
# Used for validation against extracted OCR data

name: "Spanish NIE/TIE"
type: "NIE_TIE"
category: "IDENTITY"
version: "1.0"

# Required fields for validation
required_fields:
  - documentNumber
  - fullName
  - dateOfBirth
  - nationality
  - cardType

# Optional fields
optional_fields:
  - sex
  - placeOfBirth
  - expiryDate
  - address
  - issueDate

# Field validation rules
validation_rules:
  documentNumber:
    pattern: "^[XY]\\d{7}[A-Z]$"
    description: "X or Y followed by 7 digits and 1 letter"
    validator: "nie_checksum"
    
  fullName:
    min_length: 3
    max_length: 100
    pattern: "^[A-ZÁÉÍÓÚÑÜ\\s,.-]+$"
    description: "International name with Spanish characters"
    
  dateOfBirth:
    pattern: "^\\d{1,2}/\\d{1,2}/\\d{4}$"
    description: "DD/MM/YYYY format"
    validator: "valid_date"
    
  nationality:
    min_length: 3
    max_length: 50
    description: "Country nationality"
    
  cardType:
    allowed_values: ["NIE", "TIE"]
    description: "Card type identifier"
    
  sex:
    allowed_values: ["M", "F"]
    description: "Male or Female"
    
  expiryDate:
    pattern: "^\\d{1,2}/\\d{1,2}/\\d{4}$"
    description: "DD/MM/YYYY format"
    validator: "future_date"

# OCR confidence thresholds
confidence_thresholds:
  minimum: 0.7
  target: 0.95
  
# Common OCR patterns to look for
ocr_patterns:
  document_indicators:
    - "TARJETA DE IDENTIDAD DE EXTRANJERO"
    - "NÚMERO DE IDENTIDAD DE EXTRANJERO"
    - "TIE"
    - "NIE"
    - "MINISTERIO DEL INTERIOR"
    
  field_indicators:
    documentNumber:
      - "NÚMERO"
      - "NUM"
      - "NIE"
    fullName:
      - "APELLIDOS Y NOMBRE"
      - "NOMBRE"
      - "SURNAME"
      - "NAME"
    dateOfBirth:
      - "NACIMIENTO"
      - "FECHA DE NACIMIENTO"
      - "BIRTH"
      - "DATE OF BIRTH"
    nationality:
      - "NACIONALIDAD"
      - "NATIONALITY"
      - "PAÍS"
    sex:
      - "SEXO"
      - "SEX"
    expiryDate:
      - "VÁLIDO HASTA"
      - "VÁLIDA HASTA"
      - "EXPIRY"
      - "EXPIRES"